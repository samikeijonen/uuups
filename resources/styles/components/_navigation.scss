.menu ul {
	@include reset-list();
}

.menu__items {
	display: none;

	&.is-toggled {
		background-color: $color-white;
		border: 1px dashed $color-grey-1;
		display: list-item;
		left: $global-spacing-unit-2;
		margin-top: $global-spacing-unit-2;
		padding: $global-spacing-unit-2;
		position: absolute;
		right: $global-spacing-unit-2;
	}
}

.menu__item ul {
	padding-left: $global-spacing-unit-2;
}

.menu__anchor {
	color: $color-grey-1;
	@include font-size(0.8888888888rem);
	font-weight: 700;
	display: block;
	text-decoration: none;

	&.is-active {
		color: $color-dark;
	}

	& .icon {
		display: none;
	}
}

// Menu toggle.
.menu-toggle {
	background-color: transparent;
	color: $color-dark;
	cursor: pointer;
	height: $global-spacing-unit-1 * 7;
	padding: $global-spacing-unit-1;
	width: $global-spacing-unit-1 * 7;

	&:hover,
	&:focus,
	&:active {
		background-color: transparent;
		color: $color-dark;
	}
}

.menu-toggle-icon {
	display: inline-block;
	fill: currentColor;
	stroke: $color-dark;
	stroke-width: 2;
	transition: all 0.3s;
}

.line {
	transition: all 0.3s;
}

.is-toggled {

	& .line-1 {
		transform: translateX(14px) translateY(-3px) rotate(45deg);
	}

	& .line-2 {
		opacity: 0;
	}

	& .line-3 {
		transform: translateX(-14px) translateY(14px) rotate(-45deg);
	}
}

// Show menu when there is no js, and hide menu toggle.
.no-js {

	.menu-toggle {
		display: none;
	}

	.menu__items {
		display: block;
	}
}

@media screen and (min-width: $breakpoint-1) {

	.menu-toggle {
		display: none;
	}

	.menu__item {
		position: relative;

		& ul {
			padding-left: 0;
		}
	}

	.menu__items {

		&,
		&.is-toggled {
			display: flex;
			flex-wrap: wrap;
		}

		& > li:not(:last-child) {
			margin-right: $global-spacing-unit-3;
		}

		& ul {
			background-color: $color-light-1;
			left: -999em;
			position: absolute;
			top: 100%;
			width: $global-spacing-unit-13 * 2;
			z-index: 99999;

			// Class "focus" is added by Javascript which enables
			// keyboard focus to submenu items.
			& li:hover > ul,
			& .focus > ul {
				left: 100%;
				right: auto;
			}

			& a {
				padding: $global-spacing-unit-1 $global-spacing-unit-2;
			}

			& ul {
				top: 0;
			}

			& .icon {
				position: absolute;
				right: $global-spacing-unit-2;
				top: calc(50% - 0.5em);
				transform: rotate(-90deg);
			}
		}

		& li:hover > ul,
		& .focus > ul {
			left: 0;
		}
	}

	.menu__anchor {

		& .icon {
			display: inline-block;
		}
	}
}

"use strict";!function(){var container,button,menu,links,i,len,focusableElements,firstFocusableElement,lastFocusableElement;if((container=document.getElementById("js-menu--primary"))&&void 0!==(button=container.getElementsByTagName("button")[0]))if(void 0!==(menu=container.getElementsByTagName("ul")[0])){for(menu.setAttribute("aria-expanded","false"),menu.classList.contains("js-nav-menu")||menu.classList.add("js-nav-menu"),button.addEventListener("click",function(){toggleMenu(),function(){if(!button.classList.contains("is-toggled"))return;focusableElements=container.querySelectorAll(["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])']),firstFocusableElement=focusableElements[0],(lastFocusableElement=focusableElements[focusableElements.length-1]).addEventListener("keydown",function(e){9!==e.keyCode||e.shiftKey||(e.preventDefault(),button.focus())}),firstFocusableElement.addEventListener("keydown",function(e){9===e.keyCode&&e.shiftKey&&(e.preventDefault(),button.focus())}),button.addEventListener("keydown",function(e){9===e.keyCode&&e.shiftKey&&(e.preventDefault(),lastFocusableElement.focus())})}()}),document.addEventListener("keyup",function(event){27===event.keyCode&&button.classList.contains("is-toggled")&&(toggleMenu(),button.focus())}),window.addEventListener("resize",function(){"none"===window.getComputedStyle(button,null).getPropertyValue("display")&&(button.setAttribute("aria-expanded","false"),menu.setAttribute("aria-expanded","false"))}),i=0,len=(links=menu.getElementsByTagName("a")).length;i<len;i++)links[i].addEventListener("focus",toggleFocus,!0),links[i].addEventListener("blur",toggleFocus,!0);!function(container){var touchStartFn,i,parentLink=container.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");if("ontouchstart"in window)for(touchStartFn=function(e){var i,menuItem=this.parentNode;if(menuItem.classList.contains("focus"))menuItem.classList.remove("focus");else{for(e.preventDefault(),i=0;i<menuItem.parentNode.children.length;++i)menuItem!==menuItem.parentNode.children[i]&&menuItem.parentNode.children[i].classList.remove("focus");menuItem.classList.add("focus")}},i=0;i<parentLink.length;++i)parentLink[i].addEventListener("touchstart",touchStartFn,!1)}(container)}else button.style.display="none";function toggleMenu(){container.classList.toggle("is-toggled");var expanded="false"===button.getAttribute("aria-expanded")?"true":"false";button.setAttribute("aria-expanded",expanded),menu.setAttribute("aria-expanded",expanded)}function toggleFocus(){for(var self=this;-1===self.className.indexOf("js-nav-menu");)"li"===self.tagName.toLowerCase()&&(-1!==self.className.indexOf("focus")?self.className=self.className.replace(" focus",""):self.className+=" focus"),self=self.parentElement}}();